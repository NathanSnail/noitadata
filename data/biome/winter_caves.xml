<Biome>
  <Topology 
    name="$biome_winter_caves"
    type="BIOME_WANG_TILE"
    background_image="data/weather_gfx/background_cave_04_alt.png"
    background_edge_left="data/weather_gfx/edges/background_cave_04_alt_left.png"
    background_edge_right="data/weather_gfx/edges/background_cave_04_alt_right.png"
    background_edge_top="data/weather_gfx/edges/background_cave_04_alt_top.png"
    background_edge_bottom="data/weather_gfx/edges/background_cave_04_alt_bottom.png"
    background_edge_priority="9"     

    wang_template_file="data/wang_tiles/snowchasm.png" 
    lua_script="data/scripts/biomes/winter.lua"
	limit_background_image="0"
	noise_biome_edges="1"
    wang_map_width="256"
    wang_map_height="256"
    audio_music_2="coalmine"
    audio_ambience="cave"
    mGradientAddNoise="1" 
    mGradientEndY="1024" 
    mGradientHighNoise="234.057" 
    mGradientLowNoise="-292.571" 
    mGradientNoiseScale="0.00128571" 
    mGradientStartY="-1024" 
    mInsidePerlinClamped="0" 
    mInsidePerlinScaleMax="2" 
    mInsidePerlinScaleMin="0.057143" 
    mInsidePerlinScaleX="0.9999" 
    mInsidePerlinScaleY="0.9999" 
    mInsidePerlinScaled="1" 
    mInsidePerlinSquared="0" 
    mMultiplierGradient="0.871429" 
    >
	>
	 <BitmapCaves 
      name="bitmap_hills"
      size_x="512"
      size_y="256"
      blob_caves_count_min="20"
      blob_caves_count_max="55"
      blob_caves_radius_min="1"
      blob_caves_radius_max="10"
      blob_caves_strength_min="1.5"
      blob_caves_strength_max="3"
      do_beginning_paths="1"
      do_beginning_down="1"
      cave_childs_min="0"
      cave_childs_max="2"
      cave_count_min="50"
      cave_count_max="100"
      cave_strength_min="0.2"
      cave_strength_max="1"
      mountain_count_min="0"
      mountain_count_max="15"
      mountain_size_min="1"
      mountain_size_max="10"
      surface_cave_childs_min="2"
      surface_cave_childs_max="7"
      surface_caves_count_min="7" 
      surface_caves_count_max="12" 
      >
      <structures>
        <CaveStructure
          image_file="data/biome_impl/caves/generated/cave_$[0-999].png"
          aabb_min_x="5"
          aabb_max_x="507"
          aabb_min_y="0"
          aabb_max_y="20"
          count_min="5"
          count_max="12"
          strength_min="0.55"
          strength_max="2.15"
          >
        </CaveStructure>
        <CaveStructure
          image_file="data/biome_impl/caves/mountain_rock.png"
          aabb_min_x="5"
          aabb_max_x="507"
          aabb_min_y="0"
          aabb_max_y="20"
          count_min="0"
          count_max="4"
          strength_min="1.45"
          strength_max="1.55" >
        </CaveStructure>
        <CaveStructure
          image_file="data/biome_impl/caves/skull_mountain.png"
          aabb_min_x="5"
          aabb_max_x="507"
          aabb_min_y="0"
          aabb_max_y="5"
          count_min="0"
          count_max="3"
          strength_min="1.45"
          strength_max="1.55"
          >
        </CaveStructure>
        <CaveStructure
          image_file="data/biome_impl/caves/pit.png"
          aabb_min_x="5"
          aabb_max_x="507"
          aabb_min_y="-8"
          aabb_max_y="2"
          count_min="0"
          count_max="3"
          strength_min="0.0"
          strength_max="0.65"
          >
        </CaveStructure>
    <CaveStructure
          image_file="data/biome_impl/caves/deep_pit.png"
          aabb_min_x="5"
          aabb_max_x="507"
          aabb_min_y="-8"
          aabb_max_y="2"
          count_min="0"
          count_max="5"
          strength_min="0.0"
          strength_max="0.40"
          >
        </CaveStructure>
        <CaveStructure
          image_file="data/biome_impl/caves/brush_03.png"
          aabb_min_x="5"
          aabb_max_x="507"
          aabb_min_y="0"
          aabb_max_y="15"
          count_min="0"
          count_max="3"
          strength_min="1.15"
          strength_max="1.85"
          >
        </CaveStructure>
        <CaveStructure
          image_file="data/biome_impl/caves/brush_04.png"
          aabb_min_x="5"
          aabb_max_x="507"
          aabb_min_y="0"
          aabb_max_y="15"
          count_min="0"
          count_max="4"
          strength_min="0.5"
          strength_max="2.85"
          >
        </CaveStructure>
        <CaveStructure
          image_file="data/biome_impl/caves/brush_05.png"
          aabb_min_x="5"
          aabb_max_x="507"
          aabb_min_y="0"
          aabb_max_y="25"
          count_min="0"
          count_max="3"
          strength_min="0.15"
          strength_max="2.15"
          >
        </CaveStructure>
        <CaveStructure
          image_file="data/biome_impl/caves/brush_06.png"
          aabb_min_x="5"
          aabb_max_x="507"
          aabb_min_y="0"
          aabb_max_y="35"
          count_min="0"
          count_max="4"
          strength_min="0.55"
          strength_max="1.85"
          >
        </CaveStructure>
      </structures>
    </BitmapCaves>
  </Topology>

 <Materials 
    name="winter" 
     >
    <MaterialComponent 
      _enabled="1" 
      is_rare="0" 
      limit_max_y="2048" 
      limit_min_y="100" 
      limit_y="0" 
      material_index="10" 
      material_max="2.55" 
      material_min="0.5" 
      material_name="snowrock_static" 
      rare_polka_is_boxed="1" 
      rare_polka_probability="0.2" 
      rare_polka_radius_high="0.65" 
      rare_polka_radius_low="0.2" 
      rare_required_max="1" 
      rare_required_min="0.2" 
      rare_scale_x="0.05" 
      rare_scale_y="0.05" 
      rare_use_perlin="0" 
      rare_use_polka="1" >
    </MaterialComponent>

    <MaterialComponent 
      _enabled="1" 
      is_rare="0" 
      limit_max_y="2048" 
      limit_min_y="100" 
      limit_y="0" 
      material_index="10" 
      material_max="0.9" 
      material_min="0.35" 
      material_name="snow_static" 
      rare_polka_is_boxed="1" 
      rare_polka_probability="0.2" 
      rare_polka_radius_high="0.65" 
      rare_polka_radius_low="0.2" 
      rare_required_max="1" 
      rare_required_min="0.2" 
      rare_scale_x="0.05" 
      rare_scale_y="0.05" 
      rare_use_perlin="0" 
      rare_use_polka="1" >
    </MaterialComponent>

    <MaterialComponent 
      _enabled="1" 
      is_rare="1" 
      limit_max_y="2048" 
      limit_min_y="100" 
      limit_y="0" 
      material_index="4" 
      material_max="0.9" 
      material_min="0.35" 
      material_name="snow_static" 
      rare_polka_is_boxed="1" 
      rare_polka_probability="0.2" 
      rare_polka_radius_high="0.65" 
      rare_polka_radius_low="0.2" 
      rare_required_max="1" 
      rare_required_min="0" 
      rare_scale_x="0.0271429" 
      rare_scale_y="0.04" 
      rare_use_perlin="1" 
      rare_use_polka="0" >
    </MaterialComponent>

    <MaterialComponent 
      _enabled="1" 
      is_rare="0" 
      limit_max_y="2048" 
      limit_min_y="100" 
      limit_y="0" 
      material_index="10" 
      material_max="0.95" 
      material_min="0.53" 
      material_name="snow_static" 
      rare_polka_is_boxed="1" 
      rare_polka_probability="0.2" 
      rare_polka_radius_high="0.65" 
      rare_polka_radius_low="0.2" 
      rare_required_max="10" 
      rare_required_min="0.2" 
      rare_scale_x="0.05" 
      rare_scale_y="0.05" 
      rare_use_perlin="0" 
      rare_use_polka="1" >
    </MaterialComponent>

    <MaterialComponent 
      _enabled="1" 
      is_rare="1" 
      limit_max_y="2048" 
      limit_min_y="100" 
      limit_y="0" 
      material_index="10" 
      material_max="1.2" 
      material_min="1.1" 
      material_name="coal" 
      rare_polka_is_boxed="1" 
      rare_polka_probability="0.157143" 
      rare_polka_radius_high="0.464286" 
      rare_polka_radius_low="0.0428571" 
      rare_required_max="10" 
      rare_required_min="0.371429" 
      rare_scale_x="0.0214286" 
      rare_scale_y="0.0214286" 
      rare_use_perlin="1" 
      rare_use_polka="1" >
    </MaterialComponent>

    <MaterialComponent 
      _enabled="1" 
      is_rare="1" 
      limit_max_y="2048" 
      limit_min_y="750" 
      limit_y="1" 
      material_index="10" 
      material_max="1.25" 
      material_min="1.05" 
      material_name="copper" 
      rare_polka_is_boxed="0" 
      rare_polka_probability="0.357143" 
      rare_polka_radius_high="0.764286" 
      rare_polka_radius_low="0.328571" 
      rare_required_max="10" 
      rare_required_min="0.019" 
      rare_scale_x="0.007514286" 
      rare_scale_y="0.007514286" 
      rare_use_perlin="1" 
      rare_use_polka="1" >
    </MaterialComponent>

    <MaterialComponent 
      _enabled="1" 
      is_rare="0" 
      limit_max_y="2048" 
      limit_min_y="100" 
      limit_y="0" 
      material_index="10" 
      material_max="3.5" 
      material_min="0.9" 
      material_name="snowrock_static" 
      rare_polka_is_boxed="1" 
      rare_polka_probability="0.2" 
      rare_polka_radius_high="0.65" 
      rare_polka_radius_low="0.2" 
      rare_required_max="10" 
      rare_required_min="0.2" 
      rare_scale_x="0.05" 
      rare_scale_y="0.05" 
      rare_use_perlin="0" 
      rare_use_polka="1" >
    </MaterialComponent>

  </Materials>

</Biome>

